const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-MQ_5--3d.js","assets/Navigation-Cza9a0BZ.js","assets/frappe-ui-BZ2pqM42.js","assets/frappe-ui-D1rk2b8Q.css","assets/FooterSection-GStGyJxM.js","assets/Login-DsAz_8Qd.js","assets/Signup-CQ8qPYul.js","assets/Dashboard-BbLBc5Dl.js","assets/EmployeeDashboard-B-KttRmb.js","assets/EmployeeDashboard-OfuEaJ2F.css","assets/ERPNext-xEdNsv_Z.js"])))=>i.map(i=>d[i]);
var h=(o,t,r)=>new Promise((n,e)=>{var s=a=>{try{m(r.next(a))}catch(_){e(_)}},u=a=>{try{m(r.throw(a))}catch(_){e(_)}},m=a=>a.done?n(a.value):Promise.resolve(a.value).then(s,u);m((r=r.apply(o,t)).next())});import{_ as L,r as y,o as P,c as v,a as b,b as f,d as w,e as I,f as R,g as $,h as i,l as q,i as O,s as D,j as k,p as T,k as V,m as N,n as S,E as x,q as C,I as B,t as U,u as F,v as M}from"./frappe-ui-BZ2pqM42.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const j={};function H(o,t){const r=y("router-view");return P(),v("div",null,[b(r)])}const G=L(j,[["render",H]]),g=f({url:"frappe.auth.get_logged_user",cache:"User",onError(o){o&&o.exc_type==="AuthenticationError"&&p.push({name:"LoginPage"})}});function d(){let t=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return t==="Guest"&&(t=null),t}const l=w({login:f({url:"login",makeParams({email:o,password:t}){return{usr:o,pwd:t}},onSuccess(o){g.reload(),l.user=d(),l.login.reset(),p.replace("/dashboard")}}),logout:f({url:"logout",onSuccess(){g.reset(),l.user=d(),p.replace({name:"Login"})}}),user:d(),isLoggedIn:I(()=>!!l.user)}),K=[{path:"/",name:"Home",component:()=>i(()=>import("./Home-MQ_5--3d.js"),__vite__mapDeps([0,1,2,3,4])),meta:{requiresAuth:!1}},{name:"Login",path:"/account/login",component:()=>i(()=>import("./Login-DsAz_8Qd.js"),__vite__mapDeps([5,2,3,1])),meta:{requiresAuth:!1}},{name:"Signup",path:"/account/signup",component:()=>i(()=>import("./Signup-CQ8qPYul.js"),__vite__mapDeps([6,2,3,1])),meta:{requiresAuth:!1}},{name:"Dashboard",path:"/dashboard",component:()=>i(()=>import("./Dashboard-BbLBc5Dl.js"),__vite__mapDeps([7,2,3,1])),meta:{requiresAuth:!0}},{name:"EmployeeDashboard",path:"/employee-dashboard",component:()=>i(()=>import("./EmployeeDashboard-B-KttRmb.js"),__vite__mapDeps([8,2,3,1,9])),meta:{requiresAuth:!0,requiresEmployeeRole:!0}},{name:"ERPNext",path:"/erpnext",component:()=>i(()=>import("./ERPNext-xEdNsv_Z.js"),__vite__mapDeps([10,1,2,3,4])),meta:{requiresAuth:!1}}],p=R({history:$("/"),routes:K});p.beforeEach((o,t,r)=>h(void 0,null,function*(){let n=l.isLoggedIn;try{yield g.promise}catch(s){n=!1}const e=o.meta.requiresAuth;o.name==="Login"&&n?r({name:"Dashboard"}):e&&!n?r({name:"Login"}):r()}));const W=9e3;let E=null;function z(){const o=window.location.hostname,t=window.site_name,r=window.location.port?`:${W}`:"",e=`${r?"http":"https"}://${o}${r}/${t}`;return E=q(e,{withCredentials:!0,reconnectionAttempts:5}),E}const A={Button:F,TextInput:U,Input:B,FormControl:C,ErrorMessage:x,Dialog:S,Alert:N,Badge:V},c=O(G);D("resourceFetcher",M);c.use(p);c.use(k);c.use(T);const J=z();c.config.globalProperties.$socket=J;for(const o in A)c.component(o,A[o]);c.mount("#app");export{l as s};
//# sourceMappingURL=index-DPLi-s9e.js.map
