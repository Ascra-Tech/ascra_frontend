const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BC3B04wX.js","assets/Navigation-CnSPRkYF.js","assets/frappe-ui-U0jLBpY2.js","assets/frappe-ui-D1rk2b8Q.css","assets/FooterSection-Beqmp3Rv.js","assets/Login-CyXUpV9o.js","assets/Signup-Cabyb_4e.js","assets/MyAccount-B3KyaaHC.js","assets/EmployeeDashboard--q_eKk52.js","assets/EmployeeDashboard-BoPRAwCs.css","assets/ERPNext-Bki1CDoG.js"])))=>i.map(i=>d[i]);
var h=(t,o,r)=>new Promise((n,e)=>{var s=a=>{try{m(r.next(a))}catch(_){e(_)}},u=a=>{try{m(r.throw(a))}catch(_){e(_)}},m=a=>a.done?n(a.value):Promise.resolve(a.value).then(s,u);m((r=r.apply(t,o)).next())});import{_ as E,r as L,o as P,c as v,a as w,b as d,d as I,e as R,f as $,g as q,h as c,l as O,i as b,s as k,j as D,p as T,k as V,m as N,n as S,E as x,q as C,I as M,t as B,u as U,v as F}from"./frappe-ui-U0jLBpY2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const j={};function H(t,o){const r=L("router-view");return P(),v("div",null,[w(r)])}const G=E(j,[["render",H]]),g=d({url:"frappe.auth.get_logged_user",cache:"User",onError(t){t&&t.exc_type==="AuthenticationError"&&p.push({name:"LoginPage"})}});function f(){let o=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return o==="Guest"&&(o=null),o}const l=I({login:d({url:"login",makeParams({email:t,password:o}){return{usr:t,pwd:o}},onSuccess(t){g.reload(),l.user=f(),l.login.reset(),p.replace("/my-account")}}),logout:d({url:"logout",onSuccess(){g.reset(),l.user=f(),p.replace({name:"Login"})}}),user:f(),isLoggedIn:R(()=>!!l.user)}),K=[{path:"/",name:"Home",component:()=>c(()=>import("./Home-BC3B04wX.js"),__vite__mapDeps([0,1,2,3,4])),meta:{requiresAuth:!1}},{name:"Login",path:"/account/login",component:()=>c(()=>import("./Login-CyXUpV9o.js"),__vite__mapDeps([5,2,3,1])),meta:{requiresAuth:!1}},{name:"Signup",path:"/account/signup",component:()=>c(()=>import("./Signup-Cabyb_4e.js"),__vite__mapDeps([6,2,3,1])),meta:{requiresAuth:!1}},{name:"MyAccount",path:"/my-account",component:()=>c(()=>import("./MyAccount-B3KyaaHC.js"),__vite__mapDeps([7,2,3,1])),meta:{requiresAuth:!0}},{name:"EmployeeDashboard",path:"/employee-dashboard",component:()=>c(()=>import("./EmployeeDashboard--q_eKk52.js"),__vite__mapDeps([8,2,3,1,9])),meta:{requiresAuth:!0,requiresEmployeeRole:!0}},{name:"ERPNext",path:"/erpnext",component:()=>c(()=>import("./ERPNext-Bki1CDoG.js"),__vite__mapDeps([10,1,2,3,4])),meta:{requiresAuth:!1}}],p=$({history:q("/"),routes:K});p.beforeEach((t,o,r)=>h(void 0,null,function*(){let n=l.isLoggedIn;try{yield g.promise}catch(s){n=!1}const e=t.meta.requiresAuth;t.name==="Login"&&n?r({name:"MyAccount"}):e&&!n?r({name:"Login"}):r()}));const W=9e3;let y=null;function z(){const t=window.location.hostname,o=window.site_name,r=window.location.port?`:${W}`:"",e=`${r?"http":"https"}://${t}${r}/${o}`;return y=O(e,{withCredentials:!0,reconnectionAttempts:5}),y}const A={Button:U,TextInput:B,Input:M,FormControl:C,ErrorMessage:x,Dialog:S,Alert:N,Badge:V},i=b(G);k("resourceFetcher",F);i.use(p);i.use(D);i.use(T);const J=z();i.config.globalProperties.$socket=J;for(const t in A)i.component(t,A[t]);i.mount("#app");export{l as s};
//# sourceMappingURL=index-Dd2bkXCJ.js.map
