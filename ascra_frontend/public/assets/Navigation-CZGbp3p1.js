var $=(L,i,p)=>new Promise((x,g)=>{var h=u=>{try{v(p.next(u))}catch(y){g(y)}},C=u=>{try{v(p.throw(u))}catch(y){g(y)}},v=u=>u.done?x(u.value):Promise.resolve(u.value).then(h,C);v((p=p.apply(L,i)).next())});import{N as A,R,S as T,L as V,r as S,o as l,c,w as t,B as _,D as f,T as k,y as s,x as r,a as m,A as U,F as P,U as F,K as D,J as w}from"./frappe-ui-BMaJlZ0z.js";import{s as a}from"./index-CARrnjY1.js";const H={class:"bg-white shadow-lg fixed w-full top-0 z-50"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"flex justify-between h-16"},K={class:"flex items-center"},O={class:"flex-shrink-0 flex items-center"},q={key:0,class:"h-10 w-auto max-w-[120px] flex items-center"},G=["src","alt"],Q={key:1,class:"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center"},W={class:"text-white font-bold text-lg"},X={class:"hidden md:flex items-center space-x-8"},Y={key:2,class:"flex items-center space-x-4 ml-4"},Z={class:"flex items-center space-x-2"},ee={class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold"},te={class:"text-sm text-gray-700"},oe={key:3,class:"flex items-center space-x-4 ml-4"},se={class:"md:hidden flex items-center"},le={class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ne={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},re={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},ae={class:"md:hidden bg-white border-t border-gray-200"},ie={class:"px-2 pt-2 pb-3 space-y-1 sm:px-3"},ue={key:2,class:"border-t border-gray-200 pt-3"},de={class:"flex items-center px-3 py-2"},me={class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold mr-3"},pe={class:"text-sm text-gray-700"},xe={class:"px-3 py-2"},ce={key:3,class:"border-t border-gray-200 pt-3"},fe={class:"px-3 py-2 space-y-2"},be={__name:"Navigation",setup(L){const i=w(!1),p=w({roles:[],is_employee:!1}),x=w(null),g=w(!1),h=A(),C=R(),v=o=>{if(C.name==="Dashboard")h.push(`/#${o}`);else{const e=document.getElementById(o);e?e.scrollIntoView({behavior:"smooth"}):h.push(`/#${o}`)}},u=o=>{i.value=!1,setTimeout(()=>v(o),100)},y=o=>o?o.split("@")[0].charAt(0).toUpperCase():"U",M=()=>{var o,e;return(o=x.value)!=null&&o.company_name?x.value.company_name.charAt(0).toUpperCase():(e=x.value)!=null&&e.abbr?x.value.abbr.charAt(0).toUpperCase():"A"},N=()=>{g.value=!0},j=()=>$(this,null,function*(){try{const o=yield D("ascra_frontend.api.get_company_info");o.success?(x.value=o.company,g.value=!1):console.error("Failed to load company info:",o.message)}catch(o){console.error("Error loading company info:",o)}}),E=()=>$(this,null,function*(){if(a.isLoggedIn)try{const o=yield D("ascra_frontend.api.get_user_roles");o.success&&(p.value=o)}catch(o){console.error("Error loading user roles:",o),p.value={roles:[],is_employee:!1}}else p.value={roles:[],is_employee:!1}}),I=()=>{a.logout.submit()};return T(()=>a.isLoggedIn,o=>{o?E():p.value={roles:[],is_employee:!1}}),V(()=>{j(),a.isLoggedIn&&E()}),(o,e)=>{var B;const d=S("router-link"),b=S("Button");return l(),c("nav",H,[t("div",z,[t("div",J,[t("div",K,[t("div",O,[(B=x.value)!=null&&B.logo&&!g.value?(l(),c("div",q,[t("img",{src:x.value.logo,alt:x.value.company_name||"Company Logo",class:"h-full w-auto object-contain max-h-10",onError:N},null,40,G)])):(l(),c("div",Q,[t("span",W,_(M()),1)]))])]),t("div",X,[f(a).isLoggedIn?(l(),k(d,{key:0,to:"/dashboard",class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors"},{default:s(()=>[...e[15]||(e[15]=[r(" Dashboard ",-1)])]),_:1})):(l(),k(d,{key:1,to:"/",class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors"},{default:s(()=>[...e[16]||(e[16]=[r(" Home ",-1)])]),_:1})),t("a",{onClick:e[0]||(e[0]=n=>v("services")),class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer"}," Services "),m(d,{to:"/erpnext",class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors"},{default:s(()=>[...e[17]||(e[17]=[r(" ERPNext ",-1)])]),_:1}),t("a",{onClick:e[1]||(e[1]=n=>v("portfolio")),class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer"}," Portfolio "),t("a",{onClick:e[2]||(e[2]=n=>v("about")),class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer"}," About "),t("a",{onClick:e[3]||(e[3]=n=>v("contact")),class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer"}," Contact "),f(a).isLoggedIn?(l(),c("div",Y,[p.value.is_employee?(l(),k(d,{key:0,to:"/employee-dashboard",class:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors bg-blue-50 rounded-lg"},{default:s(()=>[...e[18]||(e[18]=[r(" Employee Dashboard ",-1)])]),_:1})):U("",!0),t("div",Z,[t("div",ee,_(y(f(a).user)),1),t("span",te,_(f(a).user),1)]),m(b,{theme:"gray",variant:"outline",onClick:I,loading:f(a).logout.loading},{default:s(()=>[...e[19]||(e[19]=[r(" Logout ",-1)])]),_:1},8,["loading"])])):(l(),c("div",oe,[m(d,{to:"/account/login"},{default:s(()=>[m(b,{theme:"gray",variant:"outline"},{default:s(()=>[...e[20]||(e[20]=[r(" Login ",-1)])]),_:1})]),_:1}),m(d,{to:"/account/signup"},{default:s(()=>[m(b,{theme:"blue",variant:"solid"},{default:s(()=>[...e[21]||(e[21]=[r(" Sign Up ",-1)])]),_:1})]),_:1})]))]),t("div",se,[t("button",{onClick:e[4]||(e[4]=n=>i.value=!i.value),class:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600"},[(l(),c("svg",le,[i.value?(l(),c("path",re)):(l(),c("path",ne))]))])])])]),P(t("div",ae,[t("div",ie,[f(a).isLoggedIn?(l(),k(d,{key:0,to:"/dashboard",onClick:e[5]||(e[5]=n=>i.value=!1),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium"},{default:s(()=>[...e[22]||(e[22]=[r(" Dashboard ",-1)])]),_:1})):(l(),k(d,{key:1,to:"/",onClick:e[6]||(e[6]=n=>i.value=!1),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium"},{default:s(()=>[...e[23]||(e[23]=[r(" Home ",-1)])]),_:1})),t("a",{onClick:e[7]||(e[7]=n=>u("services")),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer"}," Services "),m(d,{to:"/erpnext",onClick:e[8]||(e[8]=n=>i.value=!1),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium"},{default:s(()=>[...e[24]||(e[24]=[r(" ERPNext ",-1)])]),_:1}),t("a",{onClick:e[9]||(e[9]=n=>u("portfolio")),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer"}," Portfolio "),t("a",{onClick:e[10]||(e[10]=n=>u("about")),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer"}," About "),t("a",{onClick:e[11]||(e[11]=n=>u("contact")),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer"}," Contact "),f(a).isLoggedIn?(l(),c("div",ue,[p.value.is_employee?(l(),k(d,{key:0,to:"/employee-dashboard",onClick:e[12]||(e[12]=n=>i.value=!1),class:"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium bg-blue-50 rounded-lg mx-3 mb-3"},{default:s(()=>[...e[25]||(e[25]=[r(" Employee Dashboard ",-1)])]),_:1})):U("",!0),t("div",de,[t("div",me,_(y(f(a).user)),1),t("span",pe,_(f(a).user),1)]),t("div",xe,[m(b,{theme:"gray",variant:"outline",class:"w-full",onClick:I,loading:f(a).logout.loading},{default:s(()=>[...e[26]||(e[26]=[r(" Logout ",-1)])]),_:1},8,["loading"])])])):(l(),c("div",ce,[t("div",fe,[m(d,{to:"/account/login",onClick:e[13]||(e[13]=n=>i.value=!1)},{default:s(()=>[m(b,{theme:"gray",variant:"outline",class:"w-full"},{default:s(()=>[...e[27]||(e[27]=[r(" Login ",-1)])]),_:1})]),_:1}),m(d,{to:"/account/signup",onClick:e[14]||(e[14]=n=>i.value=!1)},{default:s(()=>[m(b,{theme:"blue",variant:"solid",class:"w-full"},{default:s(()=>[...e[28]||(e[28]=[r(" Sign Up ",-1)])]),_:1})]),_:1})])]))])],512),[[F,i.value]])])}}};export{be as _};
//# sourceMappingURL=Navigation-CZGbp3p1.js.map
