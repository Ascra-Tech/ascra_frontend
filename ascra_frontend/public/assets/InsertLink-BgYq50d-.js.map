{"version":3,"file":"InsertLink-BgYq50d-.js","sources":["../../../frontend/node_modules/frappe-ui/src/components/TextEditor/InsertLink.vue"],"sourcesContent":["<template>\n  <slot v-bind=\"{ onClick: openDialog }\"></slot>\n  <Dialog\n    :options=\"{ title: 'Set Link' }\"\n    v-model=\"setLinkDialog.show\"\n    @after-leave=\"reset\"\n  >\n    <template #body-content>\n      <FormControl\n        type=\"text\"\n        label=\"URL\"\n        v-model=\"setLinkDialog.url\"\n        @keydown.enter=\"(e) => setLink(e.target.value)\"\n      />\n    </template>\n    <template #actions>\n      <Button\n        variant=\"solid\"\n        @click=\"setLink(setLinkDialog.url)\"\n        class=\"w-full\"\n      >\n        Save\n      </Button>\n    </template>\n  </Dialog>\n</template>\n<script>\nimport Dialog from '../Dialog.vue'\nimport { Button } from '../Button'\nimport FormControl from '../FormControl.vue'\n\nexport default {\n  name: 'InsertLink',\n  props: ['editor'],\n  components: { Button, FormControl, Dialog },\n  data() {\n    return {\n      setLinkDialog: { url: '', show: false },\n    }\n  },\n  methods: {\n    openDialog() {\n      let existingURL = this.editor.getAttributes('link').href\n      if (existingURL) {\n        this.setLinkDialog.url = existingURL\n      }\n      this.setLinkDialog.show = true\n    },\n    setLink(url) {\n      // empty\n      if (url === '') {\n        this.editor.chain().focus().extendMarkRange('link').unsetLink().run()\n      } else {\n        // update link\n        this.editor\n          .chain()\n          .focus()\n          .extendMarkRange('link')\n          .setLink({ href: url })\n          .run()\n      }\n\n      this.setLinkDialog.show = false\n      this.setLinkDialog.url = ''\n    },\n    reset() {\n      this.setLinkDialog = this.$options.data().setLinkDialog\n    },\n  },\n}\n</script>\n"],"names":["_sfc_main","Button","FormControl","Dialog","existingURL","url","_renderSlot","_ctx","$options","_createVNode","_component_Dialog","$data","_cache","$event","_component_FormControl","_withKeys","e","_component_Button"],"mappings":"kJA+BA,MAAKA,EAAU,CACb,KAAM,aACN,MAAO,CAAC,QAAQ,EAChB,WAAY,CAAA,OAAEC,cAAQC,EAAW,OAAEC,GACnC,MAAO,CACL,MAAO,CACL,cAAe,CAAE,IAAK,GAAI,KAAM,GAClC,CACF,EACA,QAAS,CACP,YAAa,CACX,IAAIC,EAAc,KAAK,OAAO,cAAc,MAAM,EAAE,KAChDA,IACF,KAAK,cAAc,IAAMA,GAE3B,KAAK,cAAc,KAAO,EAC5B,EACA,QAAQC,EAAK,CAEPA,IAAQ,GACV,KAAK,OAAO,MAAK,EAAG,MAAK,EAAG,gBAAgB,MAAM,EAAE,UAAS,EAAG,IAAG,EAGnE,KAAK,OACF,MAAK,EACL,MAAK,EACL,gBAAgB,MAAM,EACtB,QAAQ,CAAE,KAAMA,EAAK,EACrB,IAAG,EAGR,KAAK,cAAc,KAAO,GAC1B,KAAK,cAAc,IAAM,EAC3B,EACA,OAAQ,CACN,KAAK,cAAgB,KAAK,SAAS,KAAI,EAAG,aAC5C,EAEJ,oGApEEC,EAA8CC,gCAArBC,EAAA,UAAU,CAAA,CAAA,CAAA,EACnCC,EAsBSC,EAAA,CArBN,QAAS,CAAA,MAAA,UAAA,EACD,WAAAC,EAAA,cAAc,KAAd,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,cAAc,KAAIE,GAC1B,aAAaL,EAAA,QAEH,iBACT,IAKE,CALFC,EAKEK,EAAA,CAJA,KAAK,OACL,MAAM,MACG,WAAAH,EAAA,cAAc,IAAd,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,cAAc,IAAGE,GACzB,UAAOD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAG,EAASC,GAAMR,EAAA,QAAQQ,EAAE,OAAO,KAAK,EAAA,CAAA,OAAA,CAAA,6BAGtC,UACT,IAMS,CANTP,EAMSQ,EAAA,CALP,QAAQ,QACP,QAAKL,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEL,EAAA,QAAQG,EAAA,cAAc,GAAG,GACjC,MAAM,qBACP,IAED,CAAA,GAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFC,SAED,EAAA","x_google_ignoreList":[0]}