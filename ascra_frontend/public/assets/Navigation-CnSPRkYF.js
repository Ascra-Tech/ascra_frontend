var C=(L,m,n)=>new Promise((_,k)=>{var g=c=>{try{v(n.next(c))}catch(h){k(h)}},w=c=>{try{v(n.throw(c))}catch(h){k(h)}},v=c=>c.done?_(c.value):Promise.resolve(c.value).then(g,w);v((n=n.apply(L,m)).next())});import{M as G,A as K,r as J,o as r,c as u,w as o,a as d,y as a,C as M,x as b,F as l,B as y,G as $,N,T as V,U,u as z,J as I,K as f,e as D}from"./frappe-ui-U0jLBpY2.js";import{s as i}from"./index-Dd2bkXCJ.js";const Q={class:"bg-white shadow-md fixed w-full top-0 z-50 border-b border-gray-200"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},q={class:"flex justify-between h-16"},X={class:"flex items-center"},Y={key:0,class:"h-10 w-auto max-w-[120px] flex items-center"},Z=["src","alt"],ee={key:1,class:"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center"},oe={class:"text-white font-bold text-lg"},te={class:"hidden md:flex items-center space-x-1"},se={class:"flex items-center space-x-3"},ne={key:0,class:"hidden lg:block"},re={class:"relative"},le={class:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-colors flex items-center space-x-1"},ae={class:"flex items-center space-x-2 px-2 py-1 rounded-lg hover:bg-gray-50 transition-colors"},ie={key:4,class:"flex items-center space-x-2"},ue={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce={key:0,class:"md:hidden border-t border-gray-200 bg-white"},pe={class:"px-2 pt-2 pb-3 space-y-1"},me={key:0,class:"border-t border-gray-200 pt-4 mt-4"},ge={class:"flex items-center px-3 py-2 mb-2"},ve={class:"ml-3"},xe={class:"text-sm font-medium text-gray-900"},be={class:"text-xs text-gray-500"},he={__name:"Navigation",setup(L){const m=G(),n=f(!1),_=f(!1),k=f(!1),g=f(null),w=f(!1),v=f(null),c=f({is_employee:!1}),h=D(()=>[{label:"My Profile",icon:"user",onClick:()=>m.push("/my-account")},{label:"My Settings",icon:"settings",onClick:()=>m.push("/my-account")},{label:"Session Defaults",icon:"sliders",onClick:()=>window.location.href="/app/user"},{label:"",component:"divider"},{label:"Employee Dashboard",icon:"briefcase",onClick:()=>m.push("/employee-dashboard"),condition:()=>c.value.is_employee},{label:"Open Desk",icon:"layout",onClick:()=>window.location.href="/app"},{label:"View Website",icon:"globe",onClick:()=>m.push("/")},{label:"",component:"divider"},{label:"Log out",icon:"log-out",onClick:E}]),P=D(()=>[{label:"Documentation",icon:"book",onClick:()=>window.open("https://docs.erpnext.com","_blank")},{label:"Community Forum",icon:"message-circle",onClick:()=>window.open("https://discuss.frappe.io","_blank")},{label:"Report an Issue",icon:"alert-circle",onClick:()=>window.open("https://github.com/frappe/erpnext/issues","_blank")},{label:"",component:"divider"},{label:"Keyboard Shortcuts",icon:"command",onClick:()=>alert(`Ctrl+G: Search
Ctrl+K: Quick Actions`)}]),R=()=>C(this,null,function*(){try{const t=yield I("ascra_frontend.api.get_company_info");t&&t.success&&(g.value=t.company)}catch(t){console.error("Error loading company info:",t)}}),O=()=>C(this,null,function*(){if(i.isLoggedIn)try{const t=yield I("ascra_frontend.api.get_user_profile");t&&t.success&&(v.value=t.user)}catch(t){console.error("Error loading user profile:",t)}}),H=()=>C(this,null,function*(){if(i.isLoggedIn)try{const t=yield I("ascra_frontend.api.check_user_roles");t&&t.success&&(c.value=t.roles)}catch(t){console.error("Error checking user roles:",t)}}),T=()=>{w.value=!0},F=()=>{var t;return(t=g.value)!=null&&t.company_name?g.value.company_name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"AC"},B=t=>t?t.split("@")[0].charAt(0).toUpperCase():"U",x=t=>{if(m.currentRoute.value.path!=="/")m.push("/").then(()=>{setTimeout(()=>{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})},100)});else{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}},E=()=>{i.logout.submit()};return K(()=>{R(),i.isLoggedIn&&(O(),H())}),(t,e)=>{var S,j;const p=J("router-link");return r(),u("nav",Q,[o("div",W,[o("div",q,[o("div",X,[d(p,{to:"/",class:"flex-shrink-0 flex items-center"},{default:a(()=>{var s;return[(s=g.value)!=null&&s.logo&&!w.value?(r(),u("div",Y,[o("img",{src:g.value.logo,alt:g.value.company_name||"Company Logo",class:"h-full w-auto object-contain max-h-10",onError:T},null,40,Z)])):(r(),u("div",ee,[o("span",oe,M(F()),1)]))]}),_:1})]),o("div",te,[d(p,{to:"/",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors"},{default:a(()=>[...e[15]||(e[15]=[b(" Home ",-1)])]),_:1}),o("a",{onClick:e[0]||(e[0]=s=>x("services")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," Services "),d(p,{to:"/erpnext",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors"},{default:a(()=>[...e[16]||(e[16]=[b(" ERPNext ",-1)])]),_:1}),o("a",{onClick:e[1]||(e[1]=s=>x("portfolio")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," Portfolio "),o("a",{onClick:e[2]||(e[2]=s=>x("about")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," About "),o("a",{onClick:e[3]||(e[3]=s=>x("contact")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," Contact ")]),o("div",se,[l(i).isLoggedIn?(r(),u("div",ne,[o("div",re,[o("input",{type:"text",placeholder:"Search or type a command (Ctrl + G)",class:"w-64 px-4 py-2 pl-10 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:e[4]||(e[4]=s=>_.value=!0)},null,32),e[17]||(e[17]=o("svg",{class:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])):y("",!0),l(i).isLoggedIn?(r(),u("button",{key:1,class:"p-2 text-gray-600 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-colors relative",onClick:e[5]||(e[5]=s=>k.value=!k.value)},[...e[18]||(e[18]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),o("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1)])])):y("",!0),l(i).isLoggedIn?(r(),$(l(V),{key:2,options:P.value},{default:a(({open:s})=>[o("button",le,[e[20]||(e[20]=o("span",null,"Help",-1)),(r(),u("svg",{class:N(["w-4 h-4",{"rotate-180":s}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[19]||(e[19]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),_:1},8,["options"])):y("",!0),l(i).isLoggedIn?(r(),$(l(V),{key:3,options:h.value},{default:a(({open:s})=>{var A;return[o("button",ae,[d(l(U),{label:B(l(i).user),image:(A=v.value)==null?void 0:A.user_image,size:"sm",class:"w-8 h-8"},null,8,["label","image"]),(r(),u("svg",{class:N(["w-4 h-4 text-gray-600",{"rotate-180":s}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[21]||(e[21]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]}),_:1},8,["options"])):(r(),u("div",ie,[d(p,{to:"/account/login"},{default:a(()=>[d(l(z),{theme:"gray",variant:"outline",size:"sm"},{default:a(()=>[...e[22]||(e[22]=[b(" Login ",-1)])]),_:1})]),_:1}),d(p,{to:"/account/signup"},{default:a(()=>[d(l(z),{theme:"blue",variant:"solid",size:"sm"},{default:a(()=>[...e[23]||(e[23]=[b(" Sign Up ",-1)])]),_:1})]),_:1})])),o("button",{onClick:e[6]||(e[6]=s=>n.value=!n.value),class:"md:hidden p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50"},[n.value?(r(),u("svg",de,[...e[25]||(e[25]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(r(),u("svg",ue,[...e[24]||(e[24]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))])])])]),n.value?(r(),u("div",ce,[o("div",pe,[d(p,{to:"/",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[7]||(e[7]=s=>n.value=!1)},{default:a(()=>[...e[26]||(e[26]=[b(" Home ",-1)])]),_:1}),o("a",{onClick:e[8]||(e[8]=s=>{x("services"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," Services "),d(p,{to:"/erpnext",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[9]||(e[9]=s=>n.value=!1)},{default:a(()=>[...e[27]||(e[27]=[b(" ERPNext ",-1)])]),_:1}),o("a",{onClick:e[10]||(e[10]=s=>{x("portfolio"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," Portfolio "),o("a",{onClick:e[11]||(e[11]=s=>{x("about"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," About "),o("a",{onClick:e[12]||(e[12]=s=>{x("contact"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," Contact "),l(i).isLoggedIn?(r(),u("div",me,[o("div",ge,[d(l(U),{label:B(l(i).user),image:(S=v.value)==null?void 0:S.user_image,size:"md",class:"w-10 h-10"},null,8,["label","image"]),o("div",ve,[o("div",xe,M(((j=v.value)==null?void 0:j.full_name)||l(i).user),1),o("div",be,M(l(i).user),1)])]),d(p,{to:"/my-account",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[13]||(e[13]=s=>n.value=!1)},{default:a(()=>[...e[28]||(e[28]=[b(" My Account ",-1)])]),_:1}),e[30]||(e[30]=o("a",{href:"/app",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50"}," Open Desk ",-1)),c.value.is_employee?(r(),$(p,{key:0,to:"/employee-dashboard",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[14]||(e[14]=s=>n.value=!1)},{default:a(()=>[...e[29]||(e[29]=[b(" Employee Dashboard ",-1)])]),_:1})):y("",!0),o("button",{onClick:E,class:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-red-50"}," Log out ")])):y("",!0)])])):y("",!0)])}}};export{he as _};
//# sourceMappingURL=Navigation-CnSPRkYF.js.map
