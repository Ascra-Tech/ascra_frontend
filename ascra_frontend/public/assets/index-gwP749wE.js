const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-CBQJh1O3.js","assets/Navigation-DZwdVQFZ.js","assets/frappe-ui-CC63aIFL.js","assets/frappe-ui-D1rk2b8Q.css","assets/FooterSection-3QDJM-pG.js","assets/Login-COa4-0zZ.js","assets/Signup-DZJkL2JY.js","assets/MyAccount-DrApkzvn.js","assets/TestSwitch-D_B8lm1T.js","assets/EmployeeDashboard-Cy7wmdJ_.js","assets/EmployeeDashboard-95tG2F56.css","assets/ERPNext-CkgmzGBJ.js"])))=>i.map(i=>d[i]);
var w=(e,t,r)=>new Promise((a,o)=>{var s=c=>{try{m(r.next(c))}catch(d){o(d)}},i=c=>{try{m(r.throw(c))}catch(d){o(d)}},m=c=>c.done?a(c.value):Promise.resolve(c.value).then(s,i);m((r=r.apply(e,t)).next())});import{_ as A,r as k,o as P,c as I,a as T,b as g,d as S,e as R,f as q,g as O,h as u,l as $,i as b,j as v,k as D,s as M,m as V,n as x,p as N,q as C,t as B,u as U,E as F,v as j,I as H,w as Q,x as G}from"./frappe-ui-CC63aIFL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const K={},W={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200"};function z(e,t){const r=k("router-view");return P(),I("div",W,[T(r)])}const J=A(K,[["render",z]]),y=g({url:"frappe.auth.get_logged_user",cache:"User",onError(e){e&&e.exc_type==="AuthenticationError"&&h.push({name:"LoginPage"})}});function _(){let t=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return t==="Guest"&&(t=null),t}const f=S({login:g({url:"login",makeParams({email:e,password:t}){return{usr:e,pwd:t}},onSuccess(e){y.reload(),f.user=_(),f.login.reset(),h.replace("/my-account")}}),logout:g({url:"logout",onSuccess(){y.reset(),f.user=_(),h.replace({name:"Login"})}}),user:_(),isLoggedIn:R(()=>!!f.user)}),X=[{path:"/",name:"Home",component:()=>u(()=>import("./Home-CBQJh1O3.js"),__vite__mapDeps([0,1,2,3,4])),meta:{requiresAuth:!1}},{name:"Login",path:"/account/login",component:()=>u(()=>import("./Login-COa4-0zZ.js"),__vite__mapDeps([5,2,3,1])),meta:{requiresAuth:!1}},{name:"Signup",path:"/account/signup",component:()=>u(()=>import("./Signup-DZJkL2JY.js"),__vite__mapDeps([6,2,3,1])),meta:{requiresAuth:!1}},{name:"MyAccount",path:"/my-account",component:()=>u(()=>import("./MyAccount-DrApkzvn.js"),__vite__mapDeps([7,2,3,1])),meta:{requiresAuth:!0}},{name:"TestSwitch",path:"/test-switch",component:()=>u(()=>import("./TestSwitch-D_B8lm1T.js"),__vite__mapDeps([8,2,3])),meta:{requiresAuth:!1}},{name:"EmployeeDashboard",path:"/employee-dashboard",component:()=>u(()=>import("./EmployeeDashboard-Cy7wmdJ_.js"),__vite__mapDeps([9,2,3,1,10])),meta:{requiresAuth:!0,requiresEmployeeRole:!0}},{name:"ERPNext",path:"/erpnext",component:()=>u(()=>import("./ERPNext-CkgmzGBJ.js"),__vite__mapDeps([11,1,2,3,4])),meta:{requiresAuth:!1}}],h=q({history:O("/"),routes:X});h.beforeEach((e,t,r)=>w(void 0,null,function*(){let a=f.isLoggedIn;try{yield y.promise}catch(s){a=!1}const o=e.meta.requiresAuth;e.name==="Login"&&a?r({name:"MyAccount"}):o&&!a?r({name:"Login"}):r()}));const Y=9e3;let E=null;function Z(){const e=window.location.hostname,t=window.site_name,r=window.location.port?`:${Y}`:"",o=`${r?"http":"https"}://${e}${r}/${t}`;return E=$(o,{withCredentials:!0,reconnectionAttempts:5}),E}function ee(){const e=v(!1),t=v(!1),r=()=>typeof window!="undefined"?(t.value=window.matchMedia("(prefers-color-scheme: dark)").matches,t.value):!1,a=()=>{if(typeof window!="undefined"){const n=localStorage.getItem("theme");if(n)return n==="dark"}return null},o=n=>{if(typeof document!="undefined"){const p=document.documentElement;n?p.classList.add("dark"):p.classList.remove("dark")}},s=n=>{e.value=n,o(n),typeof window!="undefined"&&localStorage.setItem("theme",n?"dark":"light")},i=()=>{s(!e.value)},m=()=>{const n=r();s(n),typeof window!="undefined"&&localStorage.removeItem("theme")},c=()=>{const n=a();n!==null?s(n):m()},d=()=>{typeof window!="undefined"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",p=>{t.value=p.matches,a()===null&&s(p.matches)})};return b(()=>{d()}),{isDark:e,systemPreference:t,toggleTheme:i,setTheme:s,setSystemTheme:m,initTheme:c}}if(typeof window!="undefined"){const e=localStorage.getItem("theme");let t=!1;e?t=e==="dark":t=window.matchMedia("(prefers-color-scheme: dark)").matches,t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}const L={Button:G,TextInput:Q,Input:H,FormControl:j,ErrorMessage:F,Dialog:U,Alert:B,Badge:C},l=D(J);M("resourceFetcher",V);l.use(h);l.use(x);l.use(N);const te=Z();l.config.globalProperties.$socket=te;for(const e in L)l.component(e,L[e]);const oe=ee();oe.initTheme();l.mount("#app");export{f as s,ee as u};
//# sourceMappingURL=index-gwP749wE.js.map
