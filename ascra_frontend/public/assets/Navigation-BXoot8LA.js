var _=(f,u,a)=>new Promise((y,s)=>{var p=c=>{try{C(a.next(c))}catch(w){s(w)}},m=c=>{try{C(a.throw(c))}catch(w){s(w)}},C=c=>c.done?y(c.value):Promise.resolve(c.value).then(p,m);C((a=a.apply(f,u)).next())});import{i as z,j as b,M as G,r as F,o as n,c as i,y as t,a as x,A as g,D as M,z as h,G as l,C as I,B as Q,H as L,N as S,X as P,Y as N,K as $,e as V}from"./frappe-ui-BZ2Hvwvi.js";import{u as X,s as d}from"./index-CgJEa-zF.js";function Y(){const f=b(!1),u=b(!1),a=b(null),y=()=>_(this,null,function*(){if(!a.value)return;a.value.prompt();const{outcome:p}=yield a.value.userChoice;p==="accepted"&&(console.log("PWA installation accepted"),f.value=!1),a.value=null}),s=()=>{window.matchMedia("(display-mode: standalone)").matches&&(u.value=!0)};return z(()=>{window.addEventListener("beforeinstallprompt",p=>{p.preventDefault(),a.value=p,f.value=!0}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),u.value=!0,f.value=!1}),s()}),{isInstallable:f,isInstalled:u,install:y}}const q={class:"bg-white dark:bg-gray-900 shadow-md fixed w-full top-0 z-50 border-b border-gray-200 dark:border-gray-700"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Z={class:"flex justify-between h-16"},ee={class:"flex items-center"},te={key:0,class:"h-10 w-auto max-w-[120px] flex items-center"},oe=["src","alt"],re={key:1,class:"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center"},se={class:"text-white font-bold text-lg"},ne={class:"hidden md:flex items-center space-x-1"},le={class:"flex items-center space-x-3"},ae=["title"],ie={key:0,class:"lucide lucide-sun size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},de={key:1,class:"lucide lucide-moon size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},ue={class:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors flex items-center space-x-1"},ce={class:"flex items-center space-x-2 px-2 py-1 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},ge={key:3,class:"flex items-center space-x-3"},xe={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pe={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ve={key:0,class:"md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700"},be={class:"px-2 pt-2 pb-3 space-y-1"},ye={key:0,class:"border-t border-gray-200 pt-4 mt-4 dark:border-gray-700"},me={class:"flex items-center px-3 py-2 mb-2"},ke={class:"ml-3"},he={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},fe={class:"text-xs text-gray-500 dark:text-gray-400"},Ie={__name:"Navigation",setup(f){const u=G(),a=Y(),y=X(),s=b(!1),p=b(!1),m=b(null),C=b(!1),c=b(null),w=b({is_employee:!1}),R=V(()=>[{label:"My Profile",icon:"user",onClick:()=>u.push("/my-account")},{label:"My Settings",icon:"settings",onClick:()=>u.push("/my-account")},{label:"Session Defaults",icon:"sliders",onClick:()=>window.location.href="/app/user"},{label:"",component:"divider"},{label:"Employee Dashboard",icon:"briefcase",onClick:()=>u.push("/employee-dashboard"),condition:()=>w.value.is_employee},{label:"Open Desk",icon:"layout",onClick:()=>window.location.href="/app"},{label:"View Website",icon:"globe",onClick:()=>u.push("/")},{label:"",component:"divider"},{label:"Log out",icon:"log-out",onClick:A}]),U=V(()=>[{label:"Documentation",icon:"book",onClick:()=>window.open("https://docs.erpnext.com","_blank")},{label:"Community Forum",icon:"message-circle",onClick:()=>window.open("https://discuss.frappe.io","_blank")},{label:"Report an Issue",icon:"alert-circle",onClick:()=>window.open("https://github.com/frappe/erpnext/issues","_blank")},{label:"",component:"divider"},{label:"Install App",icon:"download",onClick:()=>a.install(),condition:()=>a.isInstallable&&d.isLoggedIn},{label:"Keyboard Shortcuts",icon:"command",onClick:()=>alert(`Ctrl+G: Search
Ctrl+K: Quick Actions`)}]),T=()=>_(this,null,function*(){try{const o=yield $("ascra_frontend.api.get_company_info");o&&o.success&&(m.value=o.company)}catch(o){console.error("Error loading company info:",o)}}),H=()=>_(this,null,function*(){if(d.isLoggedIn)try{const o=yield $("ascra_frontend.api.get_user_profile");o&&o.success&&(c.value=o.user)}catch(o){console.error("Error loading user profile:",o)}}),O=()=>_(this,null,function*(){if(d.isLoggedIn)try{const o=yield $("ascra_frontend.api.check_user_roles");o&&o.success&&(w.value=o.roles)}catch(o){console.error("Error checking user roles:",o)}}),W=()=>{C.value=!0},K=()=>{var o;return(o=m.value)!=null&&o.company_name?m.value.company_name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"AC"},E=o=>o?o.split("@")[0].charAt(0).toUpperCase():"U",k=o=>{if(u.currentRoute.value.path!=="/")u.push("/").then(()=>{setTimeout(()=>{const e=document.getElementById(o);e&&e.scrollIntoView({behavior:"smooth"})},100)});else{const e=document.getElementById(o);e&&e.scrollIntoView({behavior:"smooth"})}},A=()=>{d.logout.submit()};return z(()=>{T(),d.isLoggedIn&&(H(),O())}),(o,e)=>{var B,j;const v=F("router-link");return n(),i("nav",q,[t("div",J,[t("div",Z,[t("div",ee,[x(v,{to:"/",class:"flex-shrink-0 flex items-center"},{default:g(()=>{var r;return[(r=m.value)!=null&&r.logo&&!C.value?(n(),i("div",te,[t("img",{src:m.value.logo,alt:m.value.company_name||"Company Logo",class:"h-full w-auto object-contain max-h-10",onError:W},null,40,oe)])):(n(),i("div",re,[t("span",se,M(K()),1)]))]}),_:1})]),t("div",ne,[x(v,{to:"/",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},{default:g(()=>[...e[15]||(e[15]=[h(" Home ",-1)])]),_:1}),t("a",{onClick:e[0]||(e[0]=r=>k("services")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," Services "),x(v,{to:"/erpnext",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},{default:g(()=>[...e[16]||(e[16]=[h(" ERPNext ",-1)])]),_:1}),t("a",{onClick:e[1]||(e[1]=r=>k("portfolio")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," Portfolio "),t("a",{onClick:e[2]||(e[2]=r=>k("about")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," About "),t("a",{onClick:e[3]||(e[3]=r=>k("contact")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," Contact ")]),t("div",le,[l(d).isLoggedIn?(n(),i("button",{key:0,class:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors relative",onClick:e[4]||(e[4]=r=>p.value=!p.value)},[...e[17]||(e[17]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),t("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1)])])):I("",!0),t("button",{onClick:e[5]||(e[5]=(...r)=>l(y).toggleTheme&&l(y).toggleTheme(...r)),class:"rounded inline-flex items-center justify-center gap-2 transition-colors focus:outline-none shrink-0 text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4 focus-visible:ring focus-visible:ring-outline-gray-3 h-7 w-7 rounded",type:"button",title:l(y).isDark?"Switch to Light Mode":"Switch to Dark Mode"},[l(y).isDark?(n(),i("svg",ie,[...e[18]||(e[18]=[Q('<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',9)])])):(n(),i("svg",de,[...e[19]||(e[19]=[t("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)])]))],8,ae),l(d).isLoggedIn?(n(),L(l(P),{key:1,options:U.value},{default:g(({open:r})=>[t("button",ue,[e[21]||(e[21]=t("span",null,"Help",-1)),(n(),i("svg",{class:S(["w-4 h-4",{"rotate-180":r}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),_:1},8,["options"])):I("",!0),l(d).isLoggedIn?(n(),L(l(P),{key:2,options:R.value},{default:g(({open:r})=>{var D;return[t("button",ce,[x(l(N),{label:E(l(d).user),image:(D=c.value)==null?void 0:D.user_image,size:"sm",class:"w-8 h-8"},null,8,["label","image"]),(n(),i("svg",{class:S(["w-4 h-4 text-gray-600",{"rotate-180":r}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[22]||(e[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]}),_:1},8,["options"])):(n(),i("div",ge,[x(v,{to:"/account/login",class:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors"},{default:g(()=>[...e[23]||(e[23]=[h(" Login ",-1)])]),_:1}),x(v,{to:"/account/signup",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-500 hover:bg-blue-700 dark:hover:bg-blue-600 rounded-lg transition-colors"},{default:g(()=>[...e[24]||(e[24]=[h(" Sign Up ",-1)])]),_:1})])),t("button",{onClick:e[6]||(e[6]=r=>s.value=!s.value),class:"md:hidden p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50 dark:hover:bg-gray-800"},[s.value?(n(),i("svg",pe,[...e[26]||(e[26]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(n(),i("svg",xe,[...e[25]||(e[25]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))])])])]),s.value?(n(),i("div",ve,[t("div",be,[x(v,{to:"/",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[7]||(e[7]=r=>s.value=!1)},{default:g(()=>[...e[27]||(e[27]=[h(" Home ",-1)])]),_:1}),t("a",{onClick:e[8]||(e[8]=r=>{k("services"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," Services "),x(v,{to:"/erpnext",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[9]||(e[9]=r=>s.value=!1)},{default:g(()=>[...e[28]||(e[28]=[h(" ERPNext ",-1)])]),_:1}),t("a",{onClick:e[10]||(e[10]=r=>{k("portfolio"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," Portfolio "),t("a",{onClick:e[11]||(e[11]=r=>{k("about"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," About "),t("a",{onClick:e[12]||(e[12]=r=>{k("contact"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," Contact "),l(d).isLoggedIn?(n(),i("div",ye,[t("div",me,[x(l(N),{label:E(l(d).user),image:(B=c.value)==null?void 0:B.user_image,size:"md",class:"w-10 h-10"},null,8,["label","image"]),t("div",ke,[t("div",he,M(((j=c.value)==null?void 0:j.full_name)||l(d).user),1),t("div",fe,M(l(d).user),1)])]),x(v,{to:"/my-account",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[13]||(e[13]=r=>s.value=!1)},{default:g(()=>[...e[29]||(e[29]=[h(" My Account ",-1)])]),_:1}),e[31]||(e[31]=t("a",{href:"/app",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800"}," Open Desk ",-1)),w.value.is_employee?(n(),L(v,{key:0,to:"/employee-dashboard",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[14]||(e[14]=r=>s.value=!1)},{default:g(()=>[...e[30]||(e[30]=[h(" Employee Dashboard ",-1)])]),_:1})):I("",!0),t("button",{onClick:A,class:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"}," Log out ")])):I("",!0)])])):I("",!0)])}}};export{Ie as _};
//# sourceMappingURL=Navigation-BXoot8LA.js.map
