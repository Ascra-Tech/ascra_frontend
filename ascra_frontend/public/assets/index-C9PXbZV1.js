const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-sx7_f5W7.js","assets/Navigation-Bfw-Ksy2.js","assets/frappe-ui-BZ2pqM42.js","assets/frappe-ui-D1rk2b8Q.css","assets/Login-BgmMXiVt.js","assets/Signup-CY7Gxxzo.js","assets/Dashboard-BkXKRvsT.js","assets/EmployeeDashboard-BfHCUKXs.js","assets/EmployeeDashboard-OfuEaJ2F.css"])))=>i.map(i=>d[i]);
var h=(o,t,r)=>new Promise((n,e)=>{var s=a=>{try{m(r.next(a))}catch(_){e(_)}},c=a=>{try{m(r.throw(a))}catch(_){e(_)}},m=a=>a.done?n(a.value):Promise.resolve(a.value).then(s,c);m((r=r.apply(o,t)).next())});import{_ as L,r as A,o as P,c as b,a as v,b as f,d as w,e as $,f as I,g as q,h as u,l as O,i as R,s as k,j as D,p as S,k as T,m as V,n as C,E as N,q as B,I as U,t as x,u as F,v as M}from"./frappe-ui-BZ2pqM42.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const j={};function H(o,t){const r=A("router-view");return P(),b("div",null,[v(r)])}const G=L(j,[["render",H]]),g=f({url:"frappe.auth.get_logged_user",cache:"User",onError(o){o&&o.exc_type==="AuthenticationError"&&p.push({name:"LoginPage"})}});function d(){let t=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return t==="Guest"&&(t=null),t}const l=w({login:f({url:"login",makeParams({email:o,password:t}){return{usr:o,pwd:t}},onSuccess(o){g.reload(),l.user=d(),l.login.reset(),p.replace("/dashboard")}}),logout:f({url:"logout",onSuccess(){g.reset(),l.user=d(),p.replace({name:"Login"})}}),user:d(),isLoggedIn:$(()=>!!l.user)}),K=[{path:"/",name:"Home",component:()=>u(()=>import("./Home-sx7_f5W7.js"),__vite__mapDeps([0,1,2,3])),meta:{requiresAuth:!1}},{name:"Login",path:"/account/login",component:()=>u(()=>import("./Login-BgmMXiVt.js"),__vite__mapDeps([4,2,3,1])),meta:{requiresAuth:!1}},{name:"Signup",path:"/account/signup",component:()=>u(()=>import("./Signup-CY7Gxxzo.js"),__vite__mapDeps([5,2,3,1])),meta:{requiresAuth:!1}},{name:"Dashboard",path:"/dashboard",component:()=>u(()=>import("./Dashboard-BkXKRvsT.js"),__vite__mapDeps([6,2,3,1])),meta:{requiresAuth:!0}},{name:"EmployeeDashboard",path:"/employee-dashboard",component:()=>u(()=>import("./EmployeeDashboard-BfHCUKXs.js"),__vite__mapDeps([7,2,3,1,8])),meta:{requiresAuth:!0,requiresEmployeeRole:!0}}],p=I({history:q("/"),routes:K});p.beforeEach((o,t,r)=>h(void 0,null,function*(){let n=l.isLoggedIn;try{yield g.promise}catch(s){n=!1}const e=o.meta.requiresAuth;o.name==="Login"&&n?r({name:"Dashboard"}):e&&!n?r({name:"Login"}):r()}));const W=9e3;let y=null;function z(){const o=window.location.hostname,t=window.site_name,r=window.location.port?`:${W}`:"",e=`${r?"http":"https"}://${o}${r}/${t}`;return y=O(e,{withCredentials:!0,reconnectionAttempts:5}),y}const E={Button:F,TextInput:x,Input:U,FormControl:B,ErrorMessage:N,Dialog:C,Alert:V,Badge:T},i=R(G);k("resourceFetcher",M);i.use(p);i.use(D);i.use(S);const J=z();i.config.globalProperties.$socket=J;for(const o in E)i.component(o,E[o]);i.mount("#app");export{l as s};
//# sourceMappingURL=index-C9PXbZV1.js.map
