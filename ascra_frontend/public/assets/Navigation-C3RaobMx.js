var I=(k,d,i)=>new Promise((n,w)=>{var g=c=>{try{C(i.next(c))}catch(h){w(h)}},b=c=>{try{C(i.throw(c))}catch(h){w(h)}},C=c=>c.done?n(c.value):Promise.resolve(c.value).then(g,b);C((i=i.apply(k,d)).next())});import{A as z,K as v,M as K,r as J,o as l,c as p,w as o,a as m,y as u,C as L,x as y,F as r,B as _,G as M,N as j,T as N,U as V,u as D,J as $,e as U}from"./frappe-ui-U0jLBpY2.js";import{s as a}from"./index-JhZrgbs8.js";function Q(){const k=v(!1),d=v(!1),i=v(null),n=()=>I(this,null,function*(){if(!i.value)return;i.value.prompt();const{outcome:g}=yield i.value.userChoice;g==="accepted"&&(console.log("PWA installation accepted"),k.value=!1),i.value=null}),w=()=>{window.matchMedia("(display-mode: standalone)").matches&&(d.value=!0)};return z(()=>{window.addEventListener("beforeinstallprompt",g=>{g.preventDefault(),i.value=g,k.value=!0}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),d.value=!0,k.value=!1}),w()}),{isInstallable:k,isInstalled:d,install:n}}const q={class:"bg-white shadow-md fixed w-full top-0 z-50 border-b border-gray-200"},X={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Y={class:"flex justify-between h-16"},Z={class:"flex items-center"},ee={key:0,class:"h-10 w-auto max-w-[120px] flex items-center"},oe=["src","alt"],te={key:1,class:"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center"},se={class:"text-white font-bold text-lg"},ne={class:"hidden md:flex items-center space-x-1"},le={class:"flex items-center space-x-3"},re={key:0,class:"hidden lg:block"},ae={class:"relative"},ie={class:"px-3 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-colors flex items-center space-x-1"},ue={class:"flex items-center space-x-2 px-2 py-1 rounded-lg hover:bg-gray-50 transition-colors"},de={key:4,class:"flex items-center space-x-2"},ce={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pe={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},me={key:0,class:"md:hidden border-t border-gray-200 bg-white"},ve={class:"px-2 pt-2 pb-3 space-y-1"},ge={key:0,class:"border-t border-gray-200 pt-4 mt-4"},fe={class:"flex items-center px-3 py-2 mb-2"},be={class:"ml-3"},xe={class:"text-sm font-medium text-gray-900"},ye={class:"text-xs text-gray-500"},Ce={__name:"Navigation",setup(k){const d=K(),i=Q(),n=v(!1),w=v(!1),g=v(!1),b=v(null),C=v(!1),c=v(null),h=v({is_employee:!1}),R=U(()=>[{label:"My Profile",icon:"user",onClick:()=>d.push("/my-account")},{label:"My Settings",icon:"settings",onClick:()=>d.push("/my-account")},{label:"Session Defaults",icon:"sliders",onClick:()=>window.location.href="/app/user"},{label:"",component:"divider"},{label:"Employee Dashboard",icon:"briefcase",onClick:()=>d.push("/employee-dashboard"),condition:()=>h.value.is_employee},{label:"Open Desk",icon:"layout",onClick:()=>window.location.href="/app"},{label:"View Website",icon:"globe",onClick:()=>d.push("/")},{label:"",component:"divider"},{label:"Log out",icon:"log-out",onClick:A}]),O=U(()=>[{label:"Documentation",icon:"book",onClick:()=>window.open("https://docs.erpnext.com","_blank")},{label:"Community Forum",icon:"message-circle",onClick:()=>window.open("https://discuss.frappe.io","_blank")},{label:"Report an Issue",icon:"alert-circle",onClick:()=>window.open("https://github.com/frappe/erpnext/issues","_blank")},{label:"",component:"divider"},{label:"Install App",icon:"download",onClick:()=>i.install(),condition:()=>i.isInstallable&&a.isLoggedIn},{label:"Keyboard Shortcuts",icon:"command",onClick:()=>alert(`Ctrl+G: Search
Ctrl+K: Quick Actions`)}]),H=()=>I(this,null,function*(){try{const t=yield $("ascra_frontend.api.get_company_info");t&&t.success&&(b.value=t.company)}catch(t){console.error("Error loading company info:",t)}}),T=()=>I(this,null,function*(){if(a.isLoggedIn)try{const t=yield $("ascra_frontend.api.get_user_profile");t&&t.success&&(c.value=t.user)}catch(t){console.error("Error loading user profile:",t)}}),W=()=>I(this,null,function*(){if(a.isLoggedIn)try{const t=yield $("ascra_frontend.api.check_user_roles");t&&t.success&&(h.value=t.roles)}catch(t){console.error("Error checking user roles:",t)}}),F=()=>{C.value=!0},G=()=>{var t;return(t=b.value)!=null&&t.company_name?b.value.company_name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"AC"},E=t=>t?t.split("@")[0].charAt(0).toUpperCase():"U",x=t=>{if(d.currentRoute.value.path!=="/")d.push("/").then(()=>{setTimeout(()=>{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})},100)});else{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}},A=()=>{a.logout.submit()};return z(()=>{H(),a.isLoggedIn&&(T(),W())}),(t,e)=>{var B,P;const f=J("router-link");return l(),p("nav",q,[o("div",X,[o("div",Y,[o("div",Z,[m(f,{to:"/",class:"flex-shrink-0 flex items-center"},{default:u(()=>{var s;return[(s=b.value)!=null&&s.logo&&!C.value?(l(),p("div",ee,[o("img",{src:b.value.logo,alt:b.value.company_name||"Company Logo",class:"h-full w-auto object-contain max-h-10",onError:F},null,40,oe)])):(l(),p("div",te,[o("span",se,L(G()),1)]))]}),_:1})]),o("div",ne,[m(f,{to:"/",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors"},{default:u(()=>[...e[15]||(e[15]=[y(" Home ",-1)])]),_:1}),o("a",{onClick:e[0]||(e[0]=s=>x("services")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," Services "),m(f,{to:"/erpnext",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors"},{default:u(()=>[...e[16]||(e[16]=[y(" ERPNext ",-1)])]),_:1}),o("a",{onClick:e[1]||(e[1]=s=>x("portfolio")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," Portfolio "),o("a",{onClick:e[2]||(e[2]=s=>x("about")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," About "),o("a",{onClick:e[3]||(e[3]=s=>x("contact")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"}," Contact ")]),o("div",le,[r(a).isLoggedIn?(l(),p("div",re,[o("div",ae,[o("input",{type:"text",placeholder:"Search or type a command (Ctrl + G)",class:"w-64 px-4 py-2 pl-10 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:e[4]||(e[4]=s=>w.value=!0)},null,32),e[17]||(e[17]=o("svg",{class:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])):_("",!0),r(a).isLoggedIn?(l(),p("button",{key:1,class:"p-2 text-gray-600 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-colors relative",onClick:e[5]||(e[5]=s=>g.value=!g.value)},[...e[18]||(e[18]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),o("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1)])])):_("",!0),r(a).isLoggedIn?(l(),M(r(N),{key:2,options:O.value},{default:u(({open:s})=>[o("button",ie,[e[20]||(e[20]=o("span",null,"Help",-1)),(l(),p("svg",{class:j(["w-4 h-4",{"rotate-180":s}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[19]||(e[19]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),_:1},8,["options"])):_("",!0),r(a).isLoggedIn?(l(),M(r(N),{key:3,options:R.value},{default:u(({open:s})=>{var S;return[o("button",ue,[m(r(V),{label:E(r(a).user),image:(S=c.value)==null?void 0:S.user_image,size:"sm",class:"w-8 h-8"},null,8,["label","image"]),(l(),p("svg",{class:j(["w-4 h-4 text-gray-600",{"rotate-180":s}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[21]||(e[21]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]}),_:1},8,["options"])):(l(),p("div",de,[m(f,{to:"/account/login"},{default:u(()=>[m(r(D),{theme:"gray",variant:"outline",size:"sm"},{default:u(()=>[...e[22]||(e[22]=[y(" Login ",-1)])]),_:1})]),_:1}),m(f,{to:"/account/signup"},{default:u(()=>[m(r(D),{theme:"blue",variant:"solid",size:"sm"},{default:u(()=>[...e[23]||(e[23]=[y(" Sign Up ",-1)])]),_:1})]),_:1})])),o("button",{onClick:e[6]||(e[6]=s=>n.value=!n.value),class:"md:hidden p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50"},[n.value?(l(),p("svg",pe,[...e[25]||(e[25]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(l(),p("svg",ce,[...e[24]||(e[24]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))])])])]),n.value?(l(),p("div",me,[o("div",ve,[m(f,{to:"/",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[7]||(e[7]=s=>n.value=!1)},{default:u(()=>[...e[26]||(e[26]=[y(" Home ",-1)])]),_:1}),o("a",{onClick:e[8]||(e[8]=s=>{x("services"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," Services "),m(f,{to:"/erpnext",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[9]||(e[9]=s=>n.value=!1)},{default:u(()=>[...e[27]||(e[27]=[y(" ERPNext ",-1)])]),_:1}),o("a",{onClick:e[10]||(e[10]=s=>{x("portfolio"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," Portfolio "),o("a",{onClick:e[11]||(e[11]=s=>{x("about"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," About "),o("a",{onClick:e[12]||(e[12]=s=>{x("contact"),n.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 cursor-pointer"}," Contact "),r(a).isLoggedIn?(l(),p("div",ge,[o("div",fe,[m(r(V),{label:E(r(a).user),image:(B=c.value)==null?void 0:B.user_image,size:"md",class:"w-10 h-10"},null,8,["label","image"]),o("div",be,[o("div",xe,L(((P=c.value)==null?void 0:P.full_name)||r(a).user),1),o("div",ye,L(r(a).user),1)])]),m(f,{to:"/my-account",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[13]||(e[13]=s=>n.value=!1)},{default:u(()=>[...e[28]||(e[28]=[y(" My Account ",-1)])]),_:1}),e[30]||(e[30]=o("a",{href:"/app",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50"}," Open Desk ",-1)),h.value.is_employee?(l(),M(f,{key:0,to:"/employee-dashboard",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:e[14]||(e[14]=s=>n.value=!1)},{default:u(()=>[...e[29]||(e[29]=[y(" Employee Dashboard ",-1)])]),_:1})):_("",!0),o("button",{onClick:A,class:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-red-50"}," Log out ")])):_("",!0)])])):_("",!0)])}}};export{Ce as _};
//# sourceMappingURL=Navigation-C3RaobMx.js.map
