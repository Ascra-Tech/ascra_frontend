import{_ as p,u as I,x as D,r as d,o as m,c as u,$ as _,a0 as h,a1 as y,a as r,A as l,y as n,z as c,D as C,C as v,R as x,a3 as w}from"./frappe-ui-CC63aIFL.js";const b={name:"InsertImage",props:["editor"],expose:["openDialog"],data(){return{addImageDialog:{url:"",file:null,show:!1}}},components:{Button:D,Dialog:I},methods:{openDialog(){this.addImageDialog.show=!0},onImageSelect(a){let e=a.target.files[0];e&&(this.addImageDialog.file=e,w(e).then(i=>{this.addImageDialog.url=i}))},addImage(a){a&&(this.editor.chain().focus().setImage({src:a}).run(),this.reset())},reset(){this.addImageDialog=this.$options.data().addImageDialog}}},k={class:"relative cursor-pointer rounded-lg bg-surface-gray-2 py-1 focus-within:bg-surface-gray-3 hover:bg-surface-gray-3"},B={class:"absolute inset-0 select-none px-2 py-1 text-base"},S=["src"],V={class:"flex gap-2"};function A(a,e,i,N,o,t){const g=d("Button"),f=d("Dialog");return m(),u(x,null,[_(a.$slots,"default",h(y({onClick:t.openDialog}))),r(f,{options:{title:"Add Image"},modelValue:o.addImageDialog.show,"onUpdate:modelValue":e[2]||(e[2]=s=>o.addImageDialog.show=s),onAfterLeave:t.reset},{"body-content":l(()=>[n("label",k,[n("input",{type:"file",class:"w-full opacity-0",onChange:e[0]||(e[0]=(...s)=>t.onImageSelect&&t.onImageSelect(...s)),accept:"image/*"},null,32),n("span",B,C(o.addImageDialog.file?"Select another image":"Select an image"),1)]),o.addImageDialog.url?(m(),u("img",{key:0,src:o.addImageDialog.url,class:"mt-2 w-full rounded-lg"},null,8,S)):v("",!0)]),actions:l(()=>[n("div",V,[r(g,{variant:"solid",onClick:e[1]||(e[1]=s=>t.addImage(o.addImageDialog.url))},{default:l(()=>[...e[3]||(e[3]=[c(" Insert Image ",-1)])]),_:1}),r(g,{onClick:t.reset},{default:l(()=>[...e[4]||(e[4]=[c(" Cancel ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["modelValue","onAfterLeave"])],64)}const L=p(b,[["render",A]]);export{L as default};
//# sourceMappingURL=InsertImage-BKfsKHpm.js.map
