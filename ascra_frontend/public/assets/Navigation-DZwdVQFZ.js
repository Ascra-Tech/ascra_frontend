var _=(f,d,n)=>new Promise((w,s)=>{var v=u=>{try{C(n.next(u))}catch(h){s(h)}},x=u=>{try{C(n.throw(u))}catch(h){s(h)}},C=u=>u.done?w(u.value):Promise.resolve(u.value).then(v,x);C((n=n.apply(f,d)).next())});import{i as U,j as b,M as G,r as F,o as l,c,y as t,a as g,A as p,D as L,z as k,G as a,C as I,U as Q,H as M,N as j,V as D,W as N,K as $,e as S}from"./frappe-ui-CC63aIFL.js";import{u as q,s as i}from"./index-gwP749wE.js";function J(){const f=b(!1),d=b(!1),n=b(null),w=()=>_(this,null,function*(){if(!n.value)return;n.value.prompt();const{outcome:v}=yield n.value.userChoice;v==="accepted"&&(console.log("PWA installation accepted"),f.value=!1),n.value=null}),s=()=>{window.matchMedia("(display-mode: standalone)").matches&&(d.value=!0)};return U(()=>{window.addEventListener("beforeinstallprompt",v=>{v.preventDefault(),n.value=v,f.value=!0}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),d.value=!0,f.value=!1}),s()}),{isInstallable:f,isInstalled:d,install:w}}const X={class:"bg-white dark:bg-gray-900 shadow-md fixed w-full top-0 z-50 border-b border-gray-200 dark:border-gray-700"},Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Z={class:"flex justify-between h-16"},ee={class:"flex items-center"},te={key:0,class:"h-10 w-auto max-w-[120px] flex items-center"},oe=["src","alt"],re={key:1,class:"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center"},se={class:"text-white font-bold text-lg"},ae={class:"hidden md:flex items-center space-x-1"},le={class:"flex items-center space-x-3"},ne={class:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors flex items-center space-x-1"},ie={class:"flex items-center space-x-2 px-2 py-1 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},de={key:3,class:"flex items-center space-x-3"},ue={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ge={key:0,class:"md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700"},pe={class:"px-2 pt-2 pb-3 space-y-1"},ve={key:0,class:"border-t border-gray-200 pt-4 mt-4 dark:border-gray-700"},me={class:"flex items-center px-3 py-2 mb-2"},be={class:"ml-3"},xe={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ye={class:"text-xs text-gray-500 dark:text-gray-400"},we={__name:"Navigation",setup(f){const d=G(),n=J(),w=q(),s=b(!1),v=b(!1),x=b(null),C=b(!1),u=b(null),h=b({is_employee:!1}),R=S(()=>[{label:"My Profile",icon:"user",onClick:()=>d.push("/my-account")},{label:"My Settings",icon:"settings",onClick:()=>d.push("/my-account")},{label:"Session Defaults",icon:"sliders",onClick:()=>window.location.href="/app/user"},{label:"",component:"divider"},{label:"Employee Dashboard",icon:"briefcase",onClick:()=>d.push("/employee-dashboard"),condition:()=>h.value.is_employee},{label:"Open Desk",icon:"layout",onClick:()=>window.location.href="/app"},{label:"View Website",icon:"globe",onClick:()=>d.push("/")},{label:"",component:"divider"},{label:"Log out",icon:"log-out",onClick:A}]),z=S(()=>[{label:"Documentation",icon:"book",onClick:()=>window.open("https://docs.erpnext.com","_blank")},{label:"Community Forum",icon:"message-circle",onClick:()=>window.open("https://discuss.frappe.io","_blank")},{label:"Report an Issue",icon:"alert-circle",onClick:()=>window.open("https://github.com/frappe/erpnext/issues","_blank")},{label:"",component:"divider"},{label:"Install App",icon:"download",onClick:()=>n.install(),condition:()=>n.isInstallable&&i.isLoggedIn},{label:"Keyboard Shortcuts",icon:"command",onClick:()=>alert(`Ctrl+G: Search
Ctrl+K: Quick Actions`)}]),H=()=>_(this,null,function*(){try{const o=yield $("ascra_frontend.api.get_company_info");o&&o.success&&(x.value=o.company)}catch(o){console.error("Error loading company info:",o)}}),O=()=>_(this,null,function*(){if(i.isLoggedIn)try{const o=yield $("ascra_frontend.api.get_user_profile");o&&o.success&&(u.value=o.user)}catch(o){console.error("Error loading user profile:",o)}}),T=()=>_(this,null,function*(){if(i.isLoggedIn)try{const o=yield $("ascra_frontend.api.check_user_roles");o&&o.success&&(h.value=o.roles)}catch(o){console.error("Error checking user roles:",o)}}),W=()=>{C.value=!0},K=()=>{var o;return(o=x.value)!=null&&o.company_name?x.value.company_name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"AC"},E=o=>o?o.split("@")[0].charAt(0).toUpperCase():"U",y=o=>{if(d.currentRoute.value.path!=="/")d.push("/").then(()=>{setTimeout(()=>{const e=document.getElementById(o);e&&e.scrollIntoView({behavior:"smooth"})},100)});else{const e=document.getElementById(o);e&&e.scrollIntoView({behavior:"smooth"})}},A=()=>{i.logout.submit()};return U(()=>{H(),i.isLoggedIn&&(O(),T())}),(o,e)=>{var B,P;const m=F("router-link");return l(),c("nav",X,[t("div",Y,[t("div",Z,[t("div",ee,[g(m,{to:"/",class:"flex-shrink-0 flex items-center"},{default:p(()=>{var r;return[(r=x.value)!=null&&r.logo&&!C.value?(l(),c("div",te,[t("img",{src:x.value.logo,alt:x.value.company_name||"Company Logo",class:"h-full w-auto object-contain max-h-10",onError:W},null,40,oe)])):(l(),c("div",re,[t("span",se,L(K()),1)]))]}),_:1})]),t("div",ae,[g(m,{to:"/",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},{default:p(()=>[...e[15]||(e[15]=[k(" Home ",-1)])]),_:1}),t("a",{onClick:e[0]||(e[0]=r=>y("services")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," Services "),g(m,{to:"/erpnext",class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},{default:p(()=>[...e[16]||(e[16]=[k(" ERPNext ",-1)])]),_:1}),t("a",{onClick:e[1]||(e[1]=r=>y("portfolio")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," Portfolio "),t("a",{onClick:e[2]||(e[2]=r=>y("about")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," About "),t("a",{onClick:e[3]||(e[3]=r=>y("contact")),class:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer"}," Contact ")]),t("div",le,[a(i).isLoggedIn?(l(),c("button",{key:0,class:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors relative",onClick:e[4]||(e[4]=r=>v.value=!v.value)},[...e[17]||(e[17]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),t("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1)])])):I("",!0),g(a(Q),{"model-value":a(w).isDark,"onUpdate:modelValue":e[5]||(e[5]=r=>a(w).setTheme(r)),class:"ml-2"},null,8,["model-value"]),a(i).isLoggedIn?(l(),M(a(D),{key:1,options:z.value},{default:p(({open:r})=>[t("button",ne,[e[19]||(e[19]=t("span",null,"Help",-1)),(l(),c("svg",{class:j(["w-4 h-4",{"rotate-180":r}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),_:1},8,["options"])):I("",!0),a(i).isLoggedIn?(l(),M(a(D),{key:2,options:R.value},{default:p(({open:r})=>{var V;return[t("button",ie,[g(a(N),{label:E(a(i).user),image:(V=u.value)==null?void 0:V.user_image,size:"sm",class:"w-8 h-8"},null,8,["label","image"]),(l(),c("svg",{class:j(["w-4 h-4 text-gray-600",{"rotate-180":r}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]}),_:1},8,["options"])):(l(),c("div",de,[g(m,{to:"/account/login",class:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors"},{default:p(()=>[...e[21]||(e[21]=[k(" Login ",-1)])]),_:1}),g(m,{to:"/account/signup",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-500 hover:bg-blue-700 dark:hover:bg-blue-600 rounded-lg transition-colors"},{default:p(()=>[...e[22]||(e[22]=[k(" Sign Up ",-1)])]),_:1})])),t("button",{onClick:e[6]||(e[6]=r=>s.value=!s.value),class:"md:hidden p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-50 dark:hover:bg-gray-800"},[s.value?(l(),c("svg",ce,[...e[24]||(e[24]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(l(),c("svg",ue,[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))])])])]),s.value?(l(),c("div",ge,[t("div",pe,[g(m,{to:"/",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[7]||(e[7]=r=>s.value=!1)},{default:p(()=>[...e[25]||(e[25]=[k(" Home ",-1)])]),_:1}),t("a",{onClick:e[8]||(e[8]=r=>{y("services"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," Services "),g(m,{to:"/erpnext",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[9]||(e[9]=r=>s.value=!1)},{default:p(()=>[...e[26]||(e[26]=[k(" ERPNext ",-1)])]),_:1}),t("a",{onClick:e[10]||(e[10]=r=>{y("portfolio"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," Portfolio "),t("a",{onClick:e[11]||(e[11]=r=>{y("about"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," About "),t("a",{onClick:e[12]||(e[12]=r=>{y("contact"),s.value=!1}),class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"}," Contact "),a(i).isLoggedIn?(l(),c("div",ve,[t("div",me,[g(a(N),{label:E(a(i).user),image:(B=u.value)==null?void 0:B.user_image,size:"md",class:"w-10 h-10"},null,8,["label","image"]),t("div",be,[t("div",xe,L(((P=u.value)==null?void 0:P.full_name)||a(i).user),1),t("div",ye,L(a(i).user),1)])]),g(m,{to:"/my-account",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[13]||(e[13]=r=>s.value=!1)},{default:p(()=>[...e[27]||(e[27]=[k(" My Account ",-1)])]),_:1}),e[29]||(e[29]=t("a",{href:"/app",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800"}," Open Desk ",-1)),h.value.is_employee?(l(),M(m,{key:0,to:"/employee-dashboard",class:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:e[14]||(e[14]=r=>s.value=!1)},{default:p(()=>[...e[28]||(e[28]=[k(" Employee Dashboard ",-1)])]),_:1})):I("",!0),t("button",{onClick:A,class:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"}," Log out ")])):I("",!0)])])):I("",!0)])}}};export{we as _};
//# sourceMappingURL=Navigation-DZwdVQFZ.js.map
