{"version":3,"file":"Signup-CQ8qPYul.js","sources":["../../../frontend/src/pages/Signup.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\n    <!-- Navigation -->\n    <Navigation />\n    \n    <div class=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 pt-20\">\n    <!-- Background Pattern -->\n    <div class=\"absolute inset-0 overflow-hidden\">\n      <div class=\"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full opacity-10 blur-3xl\"></div>\n      <div class=\"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full opacity-10 blur-3xl\"></div>\n    </div>\n\n    <div class=\"relative max-w-md w-full space-y-8\">\n      <!-- Header -->\n      <div class=\"text-center\">\n        <div class=\"flex justify-center mb-6\">\n          <div class=\"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg\">\n            <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\"/>\n            </svg>\n          </div>\n        </div>\n        <h2 class=\"text-3xl font-bold text-gray-900 mb-2\">Create your account</h2>\n        <p class=\"text-gray-600\">Join Ascra and start building amazing projects</p>\n      </div>\n\n      <!-- Sign Up Form -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-100\">\n        <form class=\"space-y-6\" @submit.prevent=\"submit\">\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div>\n              <Input\n                required\n                name=\"first_name\"\n                type=\"text\"\n                placeholder=\"John\"\n                label=\"First Name\"\n                class=\"w-full\"\n              />\n            </div>\n            <div>\n              <Input\n                required\n                name=\"last_name\"\n                type=\"text\"\n                placeholder=\"Doe\"\n                label=\"Last Name\"\n                class=\"w-full\"\n              />\n            </div>\n          </div>\n          \n          <div>\n            <Input\n              required\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"john.doe@example.com\"\n              label=\"Email Address\"\n              class=\"w-full\"\n            />\n          </div>\n\n          <div>\n            <Input\n              required\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Create a strong password\"\n              label=\"Password\"\n              class=\"w-full\"\n            />\n            <p class=\"mt-1 text-xs text-gray-500\">\n              Password must be at least 8 characters long\n            </p>\n          </div>\n\n          <div>\n            <Input\n              required\n              name=\"confirm_password\"\n              type=\"password\"\n              placeholder=\"Confirm your password\"\n              label=\"Confirm Password\"\n              class=\"w-full\"\n            />\n          </div>\n\n          <div>\n            <Input\n              name=\"company\"\n              type=\"text\"\n              placeholder=\"Your company name (optional)\"\n              label=\"Company\"\n              class=\"w-full\"\n            />\n          </div>\n\n          <div class=\"flex items-start\">\n            <div class=\"flex items-center h-5\">\n              <input \n                id=\"terms\" \n                name=\"terms\" \n                type=\"checkbox\" \n                required\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              >\n            </div>\n            <div class=\"ml-3 text-sm\">\n              <label for=\"terms\" class=\"text-gray-700\">\n                I agree to the \n                <a href=\"#\" class=\"font-medium text-blue-600 hover:text-blue-500\">Terms of Service</a> \n                and \n                <a href=\"#\" class=\"font-medium text-blue-600 hover:text-blue-500\">Privacy Policy</a>\n              </label>\n            </div>\n          </div>\n\n          <div>\n            <Button \n              type=\"submit\"\n              :loading=\"signupLoading\" \n              theme=\"blue\" \n              variant=\"solid\" \n              class=\"w-full py-3 text-base font-medium\"\n            >\n              Create Account\n            </Button>\n          </div>\n\n          <!-- Success Message -->\n          <div v-if=\"signupSuccess\" class=\"rounded-md bg-green-50 p-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <svg class=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </div>\n              <div class=\"ml-3\">\n                <h3 class=\"text-sm font-medium text-green-800\">\n                  Account created successfully!\n                </h3>\n                <div class=\"mt-2 text-sm text-green-700\">\n                  <p>You can now login with your email and password. You'll be redirected to the login page shortly.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Error Message -->\n          <div v-if=\"signupError\" class=\"rounded-md bg-red-50 p-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <svg class=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </div>\n              <div class=\"ml-3\">\n                <h3 class=\"text-sm font-medium text-red-800\">\n                  Registration failed\n                </h3>\n                <div class=\"mt-2 text-sm text-red-700\">\n                  <p>{{ signupError }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <!-- Login Link -->\n        <div class=\"mt-6 text-center\">\n          <p class=\"text-sm text-gray-600\">\n            Already have an account?\n            <router-link to=\"/account/login\" class=\"font-medium text-blue-600 hover:text-blue-500 transition-colors\">\n              Sign in here\n            </router-link>\n          </p>\n        </div>\n      </div>\n\n      <!-- Footer -->\n      <div class=\"text-center\">\n        <p class=\"text-xs text-gray-500\">\n          By creating an account, you agree to our \n          <a href=\"#\" class=\"text-blue-600 hover:text-blue-500\">Terms of Service</a> and \n          <a href=\"#\" class=\"text-blue-600 hover:text-blue-500\">Privacy Policy</a>\n        </p>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { call } from 'frappe-ui'\nimport { useRouter } from 'vue-router'\nimport Navigation from '../components/Navigation.vue'\n\nconst router = useRouter()\n\n// Form state\nconst signupLoading = ref(false)\nconst signupSuccess = ref(false)\nconst signupError = ref('')\n\nfunction validateForm(formData) {\n  const email = formData.get('email')\n  const password = formData.get('password')\n  const confirmPassword = formData.get('confirm_password')\n  const firstName = formData.get('first_name')\n  const lastName = formData.get('last_name')\n\n  // Basic validation\n  if (!firstName || !lastName || !email || !password) {\n    return 'Please fill in all required fields.'\n  }\n\n  if (password.length < 8) {\n    return 'Password must be at least 8 characters long.'\n  }\n\n  if (password !== confirmPassword) {\n    return 'Passwords do not match.'\n  }\n\n  // Email validation\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  if (!emailRegex.test(email)) {\n    return 'Please enter a valid email address.'\n  }\n\n  return null\n}\n\nasync function submit(e) {\n  const formData = new FormData(e.target)\n  \n  // Reset states\n  signupError.value = ''\n  signupSuccess.value = false\n  \n  // Validate form\n  const validationError = validateForm(formData)\n  if (validationError) {\n    signupError.value = validationError\n    return\n  }\n\n  // Check terms acceptance\n  if (!formData.get('terms')) {\n    signupError.value = 'Please accept the Terms of Service and Privacy Policy.'\n    return\n  }\n\n  signupLoading.value = true\n\n  try {\n    // Submit signup request using our custom API\n    const response = await call('ascra_frontend.api.create_user_account', {\n      email: formData.get('email'),\n      first_name: formData.get('first_name'),\n      last_name: formData.get('last_name'),\n      password: formData.get('password'),\n      company: formData.get('company') || null\n    })\n\n    signupLoading.value = false\n    signupSuccess.value = true\n    signupError.value = ''\n    \n    console.log('Signup successful:', response)\n    \n    // Redirect to login after 3 seconds\n    setTimeout(() => {\n      router.push('/account/login')\n    }, 3000)\n    \n  } catch (error) {\n    signupLoading.value = false\n    signupSuccess.value = false\n    signupError.value = error.message || 'An error occurred during registration. Please try again.'\n    console.error('Signup error:', error)\n  }\n}\n</script>\n"],"names":["router","useRouter","signupLoading","ref","signupSuccess","signupError","validateForm","formData","email","password","confirmPassword","firstName","lastName","submit","e","__async","validationError","response","call","error","_openBlock","_createElementBlock","_hoisted_1","_createVNode","Navigation","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_Input","_cache","_component_Button","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_router_link"],"mappings":"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"}