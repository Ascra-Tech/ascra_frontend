var w=(b,u,r)=>new Promise((i,a)=>{var c=e=>{try{l(r.next(e))}catch(s){a(s)}},m=e=>{try{l(r.throw(e))}catch(s){a(s)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(c,m);l((r=r.apply(b,u)).next())});import{o as v,c as f,a as o,w as t,z as g,D as k,y,x as d,B as _,C,J as S,K as x,r as h,M as B}from"./frappe-ui-U0jLBpY2.js";import{_ as N}from"./Navigation-C3RaobMx.js";import"./index-JhZrgbs8.js";const z={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50"},q={class:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 pt-20"},L={class:"relative max-w-md w-full space-y-8"},M={class:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100"},j={class:"grid grid-cols-2 gap-4"},A={key:0,class:"rounded-md bg-green-50 p-4"},T={key:1,class:"rounded-md bg-red-50 p-4"},V={class:"flex"},E={class:"ml-3"},R={class:"mt-2 text-sm text-red-700"},F={class:"mt-6 text-center"},I={class:"text-sm text-gray-600"},K={__name:"Signup",setup(b){const u=B(),r=x(!1),i=x(!1),a=x("");function c(l){const e=l.get("email"),s=l.get("password"),n=l.get("confirm_password"),p=l.get("first_name"),P=l.get("last_name");return!p||!P||!e||!s?"Please fill in all required fields.":s.length<8?"Password must be at least 8 characters long.":s!==n?"Passwords do not match.":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address."}function m(l){return w(this,null,function*(){const e=new FormData(l.target);a.value="",i.value=!1;const s=c(e);if(s){a.value=s;return}if(!e.get("terms")){a.value="Please accept the Terms of Service and Privacy Policy.";return}r.value=!0;try{const n=yield S("ascra_frontend.api.create_user_account",{email:e.get("email"),first_name:e.get("first_name"),last_name:e.get("last_name"),password:e.get("password"),company:e.get("company")||null});r.value=!1,i.value=!0,a.value="",console.log("Signup successful:",n),setTimeout(()=>{u.push("/account/login")},3e3)}catch(n){r.value=!1,i.value=!1,a.value=n.message||"An error occurred during registration. Please try again.",console.error("Signup error:",n)}})}return(l,e)=>{const s=h("Input"),n=h("Button"),p=h("router-link");return v(),f("div",z,[o(N),t("div",q,[e[10]||(e[10]=t("div",{class:"absolute inset-0 overflow-hidden"},[t("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full opacity-10 blur-3xl"}),t("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full opacity-10 blur-3xl"})],-1)),t("div",L,[e[8]||(e[8]=g('<div class="text-center"><div class="flex justify-center mb-6"><div class="w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg></div></div><h2 class="text-3xl font-bold text-gray-900 mb-2">Create your account</h2><p class="text-gray-600">Join Ascra and start building amazing projects</p></div>',1)),t("div",M,[t("form",{class:"space-y-6",onSubmit:k(m,["prevent"])},[t("div",j,[t("div",null,[o(s,{required:"",name:"first_name",type:"text",placeholder:"John",label:"First Name",class:"w-full"})]),t("div",null,[o(s,{required:"",name:"last_name",type:"text",placeholder:"Doe",label:"Last Name",class:"w-full"})])]),t("div",null,[o(s,{required:"",name:"email",type:"email",placeholder:"john.doe@example.com",label:"Email Address",class:"w-full"})]),t("div",null,[o(s,{required:"",name:"password",type:"password",placeholder:"Create a strong password",label:"Password",class:"w-full"}),e[0]||(e[0]=t("p",{class:"mt-1 text-xs text-gray-500"}," Password must be at least 8 characters long ",-1))]),t("div",null,[o(s,{required:"",name:"confirm_password",type:"password",placeholder:"Confirm your password",label:"Confirm Password",class:"w-full"})]),t("div",null,[o(s,{name:"company",type:"text",placeholder:"Your company name (optional)",label:"Company",class:"w-full"})]),e[5]||(e[5]=g('<div class="flex items-start"><div class="flex items-center h-5"><input id="terms" name="terms" type="checkbox" required class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"></div><div class="ml-3 text-sm"><label for="terms" class="text-gray-700"> I agree to the <a href="#" class="font-medium text-blue-600 hover:text-blue-500">Terms of Service</a> and <a href="#" class="font-medium text-blue-600 hover:text-blue-500">Privacy Policy</a></label></div></div>',1)),t("div",null,[o(n,{type:"submit",loading:r.value,theme:"blue",variant:"solid",class:"w-full py-3 text-base font-medium"},{default:y(()=>[...e[1]||(e[1]=[d(" Create Account ",-1)])]),_:1},8,["loading"])]),i.value?(v(),f("div",A,[...e[2]||(e[2]=[g('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-green-800"> Account created successfully! </h3><div class="mt-2 text-sm text-green-700"><p>You can now login with your email and password. You&#39;ll be redirected to the login page shortly.</p></div></div></div>',1)])])):_("",!0),a.value?(v(),f("div",T,[t("div",V,[e[4]||(e[4]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",E,[e[3]||(e[3]=t("h3",{class:"text-sm font-medium text-red-800"}," Registration failed ",-1)),t("div",R,[t("p",null,C(a.value),1)])])])])):_("",!0)],32),t("div",F,[t("p",I,[e[7]||(e[7]=d(" Already have an account? ",-1)),o(p,{to:"/account/login",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:y(()=>[...e[6]||(e[6]=[d(" Sign in here ",-1)])]),_:1})])])]),e[9]||(e[9]=t("div",{class:"text-center"},[t("p",{class:"text-xs text-gray-500"},[d(" By creating an account, you agree to our "),t("a",{href:"#",class:"text-blue-600 hover:text-blue-500"},"Terms of Service"),d(" and "),t("a",{href:"#",class:"text-blue-600 hover:text-blue-500"},"Privacy Policy")])],-1))])])])}}};export{K as default};
//# sourceMappingURL=Signup-VT3qyJLu.js.map
