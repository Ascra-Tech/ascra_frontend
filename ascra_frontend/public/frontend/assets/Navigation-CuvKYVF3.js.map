{"version":3,"file":"Navigation-CuvKYVF3.js","sources":["../../../../frontend/src/components/Navigation.vue"],"sourcesContent":["<template>\n  <nav class=\"bg-white shadow-lg fixed w-full top-0 z-50\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex justify-between h-16\">\n        <!-- Logo -->\n        <div class=\"flex items-center\">\n          <div class=\"flex-shrink-0 flex items-center\">\n            <div class=\"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center\">\n              <span class=\"text-white font-bold text-lg\">A</span>\n            </div>\n            <span class=\"ml-2 text-xl font-bold text-gray-900\">Ascratech</span>\n          </div>\n        </div>\n\n        <!-- Desktop Navigation -->\n        <div class=\"hidden md:flex items-center space-x-8\">\n          <router-link v-if=\"session.isLoggedIn\" to=\"/dashboard\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors\">\n            Dashboard\n          </router-link>\n          <router-link v-else to=\"/\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors\">\n            Home\n          </router-link>\n          \n          <a @click=\"navigateToSection('services')\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer\">\n            Services\n          </a>\n          <a @click=\"navigateToSection('portfolio')\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer\">\n            Portfolio\n          </a>\n          <a @click=\"navigateToSection('about')\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer\">\n            About\n          </a>\n          <a @click=\"navigateToSection('contact')\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors cursor-pointer\">\n            Contact\n          </a>\n          \n          <!-- Authentication Section -->\n          <div v-if=\"session.isLoggedIn\" class=\"flex items-center space-x-4 ml-4\">\n            <router-link v-if=\"userRoles.is_employee\" to=\"/employee-dashboard\" class=\"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors bg-blue-50 rounded-lg\">\n              Employee Dashboard\n            </router-link>\n            <div class=\"flex items-center space-x-2\">\n              <div class=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold\">\n                {{ getUserInitials(session.user) }}\n              </div>\n              <span class=\"text-sm text-gray-700\">{{ session.user }}</span>\n            </div>\n            <Button theme=\"gray\" variant=\"outline\" @click=\"handleLogout\" :loading=\"session.logout.loading\">\n              Logout\n            </Button>\n          </div>\n          \n          <div v-else class=\"flex items-center space-x-4 ml-4\">\n            <router-link to=\"/account/login\">\n              <Button theme=\"gray\" variant=\"outline\">\n                Login\n              </Button>\n            </router-link>\n            <router-link to=\"/account/signup\">\n              <Button theme=\"blue\" variant=\"solid\">\n                Sign Up\n              </Button>\n            </router-link>\n          </div>\n        </div>\n\n        <!-- Mobile menu button -->\n        <div class=\"md:hidden flex items-center\">\n          <button @click=\"mobileMenuOpen = !mobileMenuOpen\" class=\"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600\">\n            <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path v-if=\"!mobileMenuOpen\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\" />\n              <path v-else stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Mobile Navigation -->\n    <div v-show=\"mobileMenuOpen\" class=\"md:hidden bg-white border-t border-gray-200\">\n      <div class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\n        <router-link v-if=\"session.isLoggedIn\" to=\"/dashboard\" @click=\"mobileMenuOpen = false\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium\">\n          Dashboard\n        </router-link>\n        <router-link v-else to=\"/\" @click=\"mobileMenuOpen = false\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium\">\n          Home\n        </router-link>\n        \n        <a @click=\"navigateToSectionMobile('services')\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer\">\n          Services\n        </a>\n        <a @click=\"navigateToSectionMobile('portfolio')\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer\">\n          Portfolio\n        </a>\n        <a @click=\"navigateToSectionMobile('about')\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer\">\n          About\n        </a>\n        <a @click=\"navigateToSectionMobile('contact')\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium cursor-pointer\">\n          Contact\n        </a>\n        \n        <!-- Mobile Authentication Section -->\n        <div v-if=\"session.isLoggedIn\" class=\"border-t border-gray-200 pt-3\">\n          <router-link v-if=\"userRoles.is_employee\" to=\"/employee-dashboard\" @click=\"mobileMenuOpen = false\" class=\"block text-gray-700 hover:text-blue-600 px-3 py-2 text-base font-medium bg-blue-50 rounded-lg mx-3 mb-3\">\n            Employee Dashboard\n          </router-link>\n          <div class=\"flex items-center px-3 py-2\">\n            <div class=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold mr-3\">\n              {{ getUserInitials(session.user) }}\n            </div>\n            <span class=\"text-sm text-gray-700\">{{ session.user }}</span>\n          </div>\n          <div class=\"px-3 py-2\">\n            <Button theme=\"gray\" variant=\"outline\" class=\"w-full\" @click=\"handleLogout\" :loading=\"session.logout.loading\">\n              Logout\n            </Button>\n          </div>\n        </div>\n        \n        <div v-else class=\"border-t border-gray-200 pt-3\">\n          <div class=\"px-3 py-2 space-y-2\">\n            <router-link to=\"/account/login\" @click=\"mobileMenuOpen = false\">\n              <Button theme=\"gray\" variant=\"outline\" class=\"w-full\">\n                Login\n              </Button>\n            </router-link>\n            <router-link to=\"/account/signup\" @click=\"mobileMenuOpen = false\">\n              <Button theme=\"blue\" variant=\"solid\" class=\"w-full\">\n                Sign Up\n              </Button>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from 'vue'\nimport { call } from 'frappe-ui'\nimport { session } from '../data/session'\n\nconst mobileMenuOpen = ref(false)\nconst userRoles = ref({ roles: [], is_employee: false })\n\nimport { useRouter, useRoute } from 'vue-router'\nconst router = useRouter()\nconst route = useRoute()\n\nconst navigateToSection = (sectionId) => {\n  // If we're on dashboard, go to home with hash\n  if (route.name === 'Dashboard') {\n    router.push(`/#${sectionId}`)\n  } else {\n    // If we're on home, scroll to section\n    const element = document.getElementById(sectionId)\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth' })\n    } else {\n      // If element not found, navigate to home with hash\n      router.push(`/#${sectionId}`)\n    }\n  }\n}\n\nconst navigateToSectionMobile = (sectionId) => {\n  mobileMenuOpen.value = false\n  setTimeout(() => navigateToSection(sectionId), 100)\n}\n\nconst scrollTo = (elementId) => {\n  const element = document.getElementById(elementId)\n  if (element) {\n    element.scrollIntoView({ behavior: 'smooth' })\n  }\n}\n\nconst getUserInitials = (email) => {\n  if (!email) return 'U'\n  const name = email.split('@')[0]\n  return name.charAt(0).toUpperCase()\n}\n\nconst loadUserRoles = async () => {\n  if (session.isLoggedIn) {\n    try {\n      const response = await call('ascra_frontend.api.get_user_roles')\n      if (response.success) {\n        userRoles.value = response\n      }\n    } catch (err) {\n      console.error('Error loading user roles:', err)\n      userRoles.value = { roles: [], is_employee: false }\n    }\n  } else {\n    userRoles.value = { roles: [], is_employee: false }\n  }\n}\n\nconst handleLogout = () => {\n  session.logout.submit()\n}\n\n// Watch for session changes to reload roles\nwatch(() => session.isLoggedIn, (newValue) => {\n  if (newValue) {\n    loadUserRoles()\n  } else {\n    userRoles.value = { roles: [], is_employee: false }\n  }\n})\n\n// Load roles on mount\nonMounted(() => {\n  if (session.isLoggedIn) {\n    loadUserRoles()\n  }\n})\n</script>\n"],"names":["mobileMenuOpen","ref","userRoles","router","useRouter","route","useRoute","navigateToSection","sectionId","element","navigateToSectionMobile","getUserInitials","email","loadUserRoles","__async","session","response","call","err","handleLogout","watch","newValue","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_unref","_createBlock","_component_router_link","_cache","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_createVNode","_component_Button","_hoisted_9","_hoisted_10","$event","_hoisted_11","_hoisted_13","_hoisted_12","_withDirectives","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22"],"mappings":"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"}